---
title: Assembly of E. coli using an experimental ABySS pipeline
author: Shaun Jackman
---


```{r load-libraries, message=FALSE}
library(dplyr)
library(ggplot2)
library(knitr)
library(tidyr)
```

```{r read-data}
data.orig <- read.delim("assembly-stats.tsv", as.is = TRUE)
```

```{r tidy-data}
data <- data.orig %>%
	separate(name, c("Directory", "File"), "/") %>%
	separate(File, c("Species", "Stage", "Ext")) %>%
	select(-Ext) %>%
	mutate(Directory = factor(Directory),
		Stage = factor(Stage, unique(Stage)))
```

```{r plot-data}
ggplot(data = data) +
	aes(x = Stage, y = NG50, color = Directory, group = Directory) +
	geom_point() +
	geom_line() +
	ylim(0, 200000)
```

```{r plot-NG50}
ggplot(data = data %>%
		filter(Directory %in% c("k64", "k364", "k364-K32-sealer"))) +
	aes(x = Stage, y = NG50, color = Directory, group = Directory) +
	geom_point() +
	geom_line() +
	geom_hline(aes(yintercept = NG50, color = Directory),
		data = data %>% filter(Stage == "1"),
		linetype = "dashed") +
	ylim(0, 200000)
```

```{r tabulate-data}
kable(data)
```
